<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .icon-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        .icon-container {
            text-align: center;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .icon-container img {
            display: block;
            margin: 0 auto 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background: #3B82F6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 0;
        }
        button:hover {
            background: #2563EB;
        }
        .download-all {
            background: #10B981;
            margin-right: 10px;
        }
        .download-all:hover {
            background: #059669;
        }
        .instructions {
            background: #F3F4F6;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>FXRES Icon Generator</h1>
    
    <div class="instructions">
        <h3>How to generate icons:</h3>
        <ol>
            <li>Click the "Generate Icons" button below</li>
            <li>Right-click each icon and select "Save image as..."</li>
            <li>Save them in the <code>images</code> folder of your project</li>
        </ol>
        <p>Required files to save:
            <ul>
                <li><code>logo-192x192.png</code></li>
                <li><code>logo-512x512.png</code></li>
                <li><code>badge-72x72.png</code></li>
                <li><code>favicon.ico</code></li>
            </ul>
        </p>
    </div>

    <div>
        <button id="generateBtn" class="download-all">Generate Icons</button>
        <button id="downloadAllBtn">Download All as ZIP</button>
    </div>

    <div id="iconPreview" class="icon-preview">
        <!-- Icons will be generated here -->
    </div>

    <script>
        const sizes = [
            { name: 'logo-192x192.png', width: 192, height: 192 },
            { name: 'logo-512x512.png', width: 512, height: 512 },
            { name: 'badge-72x72.png', width: 72, height: 72 },
            { name: 'favicon.ico', width: 32, height: 32 },
            { name: 'favicon-16x16.ico', width: 16, height: 16 },
            { name: 'apple-touch-icon.png', width: 180, height: 180 }
        ];

        function drawIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            const center = size / 2;
            const radius = size * 0.4;
            
            // Draw background
            ctx.fillStyle = '#3B82F6';
            ctx.beginPath();
            ctx.roundRect(0, 0, size, size, size * 0.25);
            ctx.fill();
            
            // Draw graph icon
            ctx.fillStyle = '#FFFFFF';
            
            // Draw donut chart
            const donutRadius = radius * 0.8;
            const lineWidth = size * 0.08;
            
            // Outer ring
            ctx.beginPath();
            ctx.arc(center, center, donutRadius, 0, Math.PI * 2);
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.lineWidth = lineWidth;
            ctx.stroke();
            
            // Progress arc (3/4 circle)
            ctx.beginPath();
            ctx.arc(center, center, donutRadius, -Math.PI/2, Math.PI);
            ctx.strokeStyle = 'white';
            ctx.lineWidth = lineWidth;
            ctx.lineCap = 'round';
            ctx.stroke();
            
            // Data point
            const pointSize = size * 0.1;
            const pointX = center + Math.cos(Math.PI * 0.75) * donutRadius;
            const pointY = center + Math.sin(Math.PI * 0.75) * donutRadius;
            
            ctx.beginPath();
            ctx.arc(pointX, pointY, pointSize, 0, Math.PI * 2);
            ctx.fillStyle = 'white';
            ctx.fill();
            
            // FX text
            ctx.fillStyle = 'white';
            ctx.font = `bold ${size * 0.25}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('FX', center, center);
        }

        function generateIcons() {
            const container = document.getElementById('iconPreview');
            container.innerHTML = '';
            
            sizes.forEach(size => {
                const canvas = document.createElement('canvas');
                canvas.width = size.width;
                canvas.height = size.height;
                
                // Draw the icon
                drawIcon(canvas, Math.min(size.width, size.height));
                
                // Create download link
                const link = document.createElement('a');
                link.href = canvas.toDataURL('image/png');
                link.download = size.name;
                link.textContent = 'Download ' + size.name;
                
                // Create container
                const div = document.createElement('div');
                div.className = 'icon-container';
                div.innerHTML = `
                    <div>${size.name}</div>
                    <div>${size.width}×${size.height}</div>
                `;
                
                // Add canvas and link
                div.appendChild(canvas);
                const dlLink = document.createElement('div');
                dlLink.style.marginTop = '10px';
                dlLink.appendChild(link);
                div.appendChild(dlLink);
                
                container.appendChild(div);
            });
            
            // Special handling for favicon.ico (needs to be converted from PNG to ICO)
            const faviconLink = document.createElement('a');
            faviconLink.href = `data:image/x-icon;base64,${btoa(
                unescape(encodeURIComponent(
                    '<?xml version="1.0" encoding="UTF-8"?><svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="8" fill="#3B82F6"/><path d="M16 4C9.37258 4 4 9.37258 4 16C4 22.6274 9.37258 28 16 28C22.6274 28 28 22.6274 28 16C28 9.37258 22.6274 4 16 4ZM16 25.6C10.7059 25.6 6.4 21.2941 6.4 16C6.4 10.7059 10.7059 6.4 16 6.4C21.2941 6.4 25.6 10.7059 25.6 16C25.6 21.2941 21.2941 25.6 16 25.6Z" fill="white"/><path d="M16 10.4C13.349 10.4 11.2 12.549 11.2 15.2C11.2 17.851 13.349 20 16 20C18.651 20 20.8 17.851 20.8 15.2C20.8 12.549 18.651 10.4 16 10.4Z" fill="white"/></svg>'
                ))
            )}`;
            faviconLink.download = 'favicon.ico';
            faviconLink.textContent = 'Download favicon.ico';
            
            const faviconContainer = document.createElement('div');
            faviconContainer.className = 'icon-container';
            faviconContainer.innerHTML = `
                <div>favicon.ico</div>
                <div>32×32 (ICO format)</div>
            `;
            faviconContainer.appendChild(document.createElement('br'));
            faviconContainer.appendChild(faviconLink);
            container.appendChild(faviconContainer);
        }

        document.getElementById('generateBtn').addEventListener('click', generateIcons);
        
        // Generate icons on page load
        window.addEventListener('load', generateIcons);
    </script>
</body>
</html>
